# 1.1 Introdu√ß√£o ao JUnit 5 [B√ÅSICO]

üéØ **Objetivo:** Compreender a arquitetura do JUnit 5, suas vantagens sobre vers√µes anteriores e realizar a configura√ß√£o inicial do projeto.

---

## O que √© JUnit 5?

O JUnit 5 √© a evolu√ß√£o do framework de testes unit√°rios mais utilizado no ecossistema Java. Reescrito para aproveitar os recursos modernos da linguagem (a partir do Java 8), ele oferece uma plataforma flex√≠vel e poderosa para a escrita de testes automatizados.

Sua **arquitetura modular** √© uma das principais mudan√ßas em rela√ß√£o ao JUnit 4.

---

## Arquitetura: 3 Subprojetos

O JUnit 5 √© composto por tr√™s subprojetos principais:

### 1. **JUnit Platform**

Serve como a funda√ß√£o para o lan√ßamento de frameworks de teste na JVM. Define a `TestEngine` API, que permite que IDEs e ferramentas de build descubram e executem testes de diferentes motores.

üí° **Benef√≠cio:** Voc√™ pode rodar testes de JUnit 5, JUnit 4 e outros frameworks compat√≠veis juntos.

### 2. **JUnit Jupiter**

√â a combina√ß√£o do novo modelo de programa√ß√£o e do modelo de extens√£o para escrever testes no JUnit 5. Aqui encontramos as novas anota√ß√µes:

- `@Test`
- `@DisplayName`
- `@ParameterizedTest`
- `@TestFactory`
- Entre outras...

### 3. **JUnit Vintage**

Fornece um motor de teste (`TestEngine`) para rodar testes escritos em JUnit 3 e JUnit 4 na plataforma do JUnit 5.

üí° **Benef√≠cio:** Garante retrocompatibilidade e uma migra√ß√£o suave.

---

## üéØ Principais Vantagens

| Caracter√≠stica            | Descri√ß√£o                                                           |
| ------------------------- | ------------------------------------------------------------------- |
| **Arquitetura Modular**   | Maior flexibilidade e integra√ß√£o com outras ferramentas             |
| **Suporte a Java 8+**     | Utiliza lambdas, streams e recursos modernos para testes concisos   |
| **Extensibilidade**       | Novo modelo de extens√£o mais poderoso que `@Rule` e `@RunWith`      |
| **Testes Din√¢micos**      | Suporte nativo para criar testes em tempo de execu√ß√£o               |
| **Testes Parametrizados** | Robusto suporte para m√∫ltiplos conjuntos de dados                   |
| **Nomes Descritivos**     | `@DisplayName` permite strings, espa√ßos e at√© emojis nos relat√≥rios |

---

## üß™ Estrutura B√°sica de um Teste

Um teste em JUnit 5 √© simplesmente um m√©todo anotado com `@Test` dentro de uma classe. A classe de teste **n√£o precisa ser `public`**, o que reduz o "boilerplate".

As valida√ß√µes (asser√ß√µes) s√£o feitas usando m√©todos est√°ticos da classe `org.junit.jupiter.api.Assertions`.

### Exemplo B√°sico

```java
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertThrows;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

// A classe n√£o precisa ser p√∫blica
class CalculadoraTest {

    @Test
    @DisplayName("Deve somar dois n√∫meros inteiros corretamente")
    void deveSomarDoisNumeros() {
        // Arrange (Prepara√ß√£o)
        Calculadora calc = new Calculadora();
        int numeroA = 5;
        int numeroB = 10;

        // Act (A√ß√£o)
        int resultado = calc.somar(numeroA, numeroB);

        // Assert (Valida√ß√£o)
        assertEquals(15, resultado, "A soma de 5 + 10 deveria ser 15");
    }

    @Test
    @DisplayName("Deve lan√ßar exce√ß√£o ao dividir por zero")
    void deveLancarExcecaoAoDividirPorZero() {
        Calculadora calc = new Calculadora();

        // Valida que a exce√ß√£o esperada √© lan√ßada
        assertThrows(IllegalArgumentException.class, () -> {
            calc.dividir(10, 0);
        });
    }
}
```

---

## üîß Configura√ß√£o Inicial

### Maven

Adicione as seguintes depend√™ncias ao seu `pom.xml`:

```xml
<dependencies>
    <!-- JUnit Jupiter API -->
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-api</artifactId>
        <version>5.10.1</version>
        <scope>test</scope>
    </dependency>

    <!-- JUnit Jupiter Engine (runtime) -->
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-engine</artifactId>
        <version>5.10.1</version>
        <scope>test</scope>
    </dependency>

    <!-- JUnit Jupiter Params (para testes parametrizados) -->
    <dependency>
        <groupId>org.junit.jupiter</groupId>
        <artifactId>junit-jupiter-params</artifactId>
        <version>5.10.1</version>
        <scope>test</scope>
    </dependency>
</dependencies>

<build>
    <plugins>
        <!-- Maven Surefire Plugin -->
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>3.0.0</version>
        </plugin>
    </plugins>
</build>
```

### Gradle (Kotlin DSL)

```kotlin
dependencies {
    testImplementation("org.junit.jupiter:junit-jupiter-api:5.10.1")
    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:5.10.1")
    testImplementation("org.junit.jupiter:junit-jupiter-params:5.10.1")
}

tasks.test {
    useJUnitPlatform()
}
```

### Gradle (Groovy DSL)

```groovy
dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.1'
    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.10.1'
}

test {
    useJUnitPlatform()
}
```

---

## ‚ö† Pitfalls Comuns

1. **Esquecer `useJUnitPlatform()`** no Gradle: Sem isso, o Gradle n√£o executa testes JUnit 5.
2. **Misturar JUnit 4 e 5 sem Vintage**: Se voc√™ tem testes antigos, precisa da depend√™ncia `junit-vintage-engine`.
3. **M√©todos `public`**: N√£o √© necess√°rio no JUnit 5 (s√≥ legado do JUnit 4).
4. **Import errado**: Use `org.junit.jupiter.api.*` (n√£o `org.junit.*` do JUnit 4).

---

## ‚úÖ Checklist de Configura√ß√£o

- [ ] Depend√™ncias JUnit 5 adicionadas ao `pom.xml` ou `build.gradle`
- [ ] Plugin Surefire/Gradle configurado
- [ ] Teste simples criado e executado com sucesso
- [ ] IDE reconhece e executa testes JUnit 5
- [ ] Relat√≥rio de testes gerado corretamente

---

## üß† Perguntas Reflexivas

1. Por que a arquitetura modular do JUnit 5 √© considerada uma vantagem significativa?
2. Qual a diferen√ßa pr√°tica entre `JUnit Platform`, `Jupiter` e `Vintage`?
3. Quando voc√™ escolheria usar `@DisplayName` em vez do nome padr√£o do m√©todo?
4. Como a retrocompatibilidade com JUnit 4 √© garantida no JUnit 5?

---

## üìö Pr√≥ximos Passos

- [1.2 Assertions e Estrutura B√°sica](01.2-assertions.md) - Aprenda sobre assertEquals, assertTrue, assertAll
- [1.3 Ciclo de Vida dos Testes](01.3-ciclo-vida.md) - @BeforeEach, @AfterEach e mais
- [Voltar ao √çndice](../../README.md)

---

**√öltima Atualiza√ß√£o:** 2025-11-14  
**N√≠vel:** [B√ÅSICO]  
**Tempo Estimado:** 45 minutos

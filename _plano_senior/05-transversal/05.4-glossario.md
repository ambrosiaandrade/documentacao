# 5.4 Gloss√°rio de Testes [REFER√äNCIA]

üéØ **Objetivo:** Consolidar defini√ß√µes de termos t√©cnicos, siglas e conceitos relacionados a testes de software.

---

## üìñ Como Usar Este Gloss√°rio

- **Ordem alfab√©tica** para busca r√°pida
- **Contexto pr√°tico** al√©m da defini√ß√£o formal
- **Links** para se√ß√µes detalhadas quando aplic√°vel
- **Exemplos** para termos complexos

---

## A

### AAA Pattern (Arrange-Act-Assert)

Padr√£o de estrutura√ß√£o de testes em tr√™s se√ß√µes:

- **Arrange**: Preparar objetos e estado inicial
- **Act**: Executar a a√ß√£o sendo testada
- **Assert**: Verificar resultado esperado

```java
@Test
void exemplo() {
    // Arrange
    Calculadora calc = new Calculadora();

    // Act
    int resultado = calc.somar(2, 3);

    // Assert
    assertEquals(5, resultado);
}
```

### Assertion

Verifica√ß√£o de uma condi√ß√£o esperada. Se falhar, o teste falha.

Exemplos: `assertEquals`, `assertTrue`, `assertThrows`

### Awaitility

Biblioteca Java para aguardar condi√ß√µes ass√≠ncronas de forma inteligente, sem `Thread.sleep()`.

```java
await().atMost(5, SECONDS).until(() -> service.concluido());
```

---

## B

### BDD (Behavior-Driven Development)

Abordagem que descreve comportamento do sistema em linguagem natural (Given-When-Then).

```java
// Given um usu√°rio v√°lido
// When tenta fazer login
// Then deve autenticar com sucesso
```

### Black Box Testing

Teste focado em entradas/sa√≠das, sem conhecimento da implementa√ß√£o interna.

### Brittle Test

Teste **fr√°gil** que quebra por mudan√ßas irrelevantes na implementa√ß√£o.

### Builder Pattern (Test Data Builder)

Padr√£o para criar objetos de teste complexos de forma fluente.

```java
Usuario user = new UsuarioBuilder()
    .nome("Admin")
    .email("admin@test.com")
    .admin()
    .build();
```

---

## C

### CI/CD (Continuous Integration/Continuous Delivery)

Pr√°tica de integrar c√≥digo frequentemente e automatizar deploy. Testes automatizados s√£o essenciais.

### Code Coverage

M√©trica que indica percentual de c√≥digo executado pelos testes.

Tipos: **linha**, **branch**, **path**, **mutation**

‚ö†Ô∏è 100% de cobertura ‚â† 100% de qualidade

### Contract Testing

Valida√ß√£o de contratos entre servi√ßos (ex: API producer/consumer).

Ferramenta popular: **Pact**

### CountDownLatch

Mecanismo de sincroniza√ß√£o para aguardar conclus√£o de threads.

```java
CountDownLatch latch = new CountDownLatch(3);
// 3 threads executam latch.countDown()
latch.await(); // Aguarda todas completarem
```

---

## D

### Dependency Injection

Padr√£o onde depend√™ncias s√£o fornecidas externamente, facilitando substitui√ß√£o por mocks em testes.

### Double (Test Double)

Termo gen√©rico para substitutos de objetos reais em testes:

- **Dummy**: Objeto que preenche par√¢metros mas n√£o √© usado
- **Fake**: Implementa√ß√£o funcional simplificada (ex: in-memory DB)
- **Stub**: Retorna respostas pr√©-programadas
- **Mock**: Verifica intera√ß√µes (chamadas de m√©todos)
- **Spy**: Objeto real com comportamento parcialmente mockado

### DRY (Don't Repeat Yourself)

Princ√≠pio de evitar duplica√ß√£o. Aplicado a testes com builders, fixtures reutiliz√°veis.

---

## E

### E2E (End-to-End)

Testes que validam fluxo completo do sistema, da interface do usu√°rio ao banco de dados.

Ferramentas: Selenium, Cypress, Playwright

### Erasure (Type Erasure)

Em Java, informa√ß√µes de tipos gen√©ricos s√£o removidas em tempo de execu√ß√£o.

```java
List<String> lista = new ArrayList<>();
// Em runtime, apenas List (sem <String>)
```

---

## F

### Fake Object

Implementa√ß√£o funcional simplificada usada em testes (ex: banco in-memory).

### FIRST Principles

Acr√¥nimo para caracter√≠sticas de bons testes:

- **F**ast - R√°pido (<10ms)
- **I**ndependent - Independente de ordem
- **R**epeatable - Mesmo resultado sempre
- **S**elf-Validating - Passa ou falha automaticamente
- **T**imely - Escrito antes/junto com c√≥digo

### Fixture

Estado inicial compartilhado entre testes, configurado em `@BeforeEach` ou `@BeforeAll`.

### Flaky Test

Teste **n√£o determin√≠stico** que √†s vezes passa, √†s vezes falha, sem mudan√ßas no c√≥digo.

Causas comuns: concorr√™ncia, depend√™ncia de tempo, I/O

---

## G

### Given-When-Then

Estrutura BDD equivalente ao AAA:

- **Given**: Estado inicial
- **When**: A√ß√£o
- **Then**: Resultado esperado

---

## H

### Hamcrest

Biblioteca de matchers para assertions mais expressivas.

```java
assertThat(lista, hasItem("Admin"));
```

---

## I

### Integration Test

Teste que valida intera√ß√£o entre componentes reais (DB, APIs, filesystem).

### Idempot√™ncia

Propriedade onde executar opera√ß√£o m√∫ltiplas vezes tem mesmo efeito que executar uma vez.

Cr√≠tico em mensageria e APIs REST.

---

## J

### JaCoCo

Ferramenta Java para medir cobertura de c√≥digo.

### JUnit

Framework de testes para Java. Vers√£o atual: **JUnit 5 (Jupiter)**.

---

## M

### Mock

Objeto substituto que registra intera√ß√µes e permite verifica√ß√£o de chamadas.

```java
when(mock.buscar(1L)).thenReturn(usuario);
verify(mock).buscar(1L);
```

### Mockito

Framework Java para criar mocks, stubs e spies.

### Mutation Testing

T√©cnica que modifica c√≥digo-fonte (muta√ß√µes) para validar se testes detectam mudan√ßas.

Ferramenta: **PIT**

---

## O

### Object Mother

Padr√£o de m√©todos factory que criam objetos de teste pr√©-configurados.

```java
Usuario admin = ObjectMother.criarAdmin();
```

---

## P

### Parametrized Test

Teste executado m√∫ltiplas vezes com diferentes argumentos.

Annotations: `@ValueSource`, `@CsvSource`, `@MethodSource`

### PIT (Mutation Testing)

Ferramenta que introduz muta√ß√µes no c√≥digo para avaliar qualidade dos testes.

### Pyramid (Test Pyramid)

Estrat√©gia de distribui√ß√£o de testes:

```
     /\
    /E2E\     Poucos (lentos, caros)
   /------\
  / INTEG \   M√©dio
 /----------\
/   UNIT    \ Muitos (r√°pidos, baratos)
```

---

## R

### Red-Green-Refactor

Ciclo TDD:

1. **Red**: Escrever teste que falha
2. **Green**: Implementar m√≠nimo para passar
3. **Refactor**: Melhorar c√≥digo mantendo testes verdes

### Regression Test

Teste que verifica se funcionalidades existentes continuam funcionando ap√≥s mudan√ßas.

---

## S

### Smoke Test

Testes b√°sicos que validam funcionalidades cr√≠ticas est√£o funcionando.

### Spy

Objeto real com comportamento parcialmente mockado.

```java
List<String> spy = spy(new ArrayList<>());
doReturn(100).when(spy).size(); // Mock apenas size()
```

### Stub

Objeto que retorna respostas pr√©-programadas, sem verificar chamadas.

```java
when(stub.buscar(anyLong())).thenReturn(usuario);
// N√£o usa verify()
```

---

## T

### TDD (Test-Driven Development)

Pr√°tica de escrever testes **antes** do c√≥digo de produ√ß√£o.

Benef√≠cios: design emergente, documenta√ß√£o viva, confian√ßa na refatora√ß√£o

### Test Container

Biblioteca que fornece containers Docker descart√°veis para testes de integra√ß√£o.

```java
@Container
static PostgreSQLContainer<?> postgres =
    new PostgreSQLContainer<>("postgres:15");
```

### Test Double

Ver **Double (Test Double)**

### Timeout

Limite de tempo para execu√ß√£o de teste.

```java
@Test
@Timeout(value = 500, unit = TimeUnit.MILLISECONDS)
void deveExecutarRapido() { }
```

---

## U

### Unit Test

Teste que valida uma **unidade** isolada (classe, m√©todo) sem depend√™ncias externas.

---

## V

### Verification

Em Mockito, valida√ß√£o de que m√©todo foi chamado com argumentos espec√≠ficos.

```java
verify(mock, times(2)).salvar(any(Usuario.class));
```

---

## W

### White Box Testing

Teste com conhecimento da implementa√ß√£o interna (estrutura, algoritmos).

### Wiremock

Biblioteca para criar servidores HTTP mock em testes de integra√ß√£o.

---

## Siglas Comuns

| Sigla     | Significado                                        | Contexto                          |
| --------- | -------------------------------------------------- | --------------------------------- |
| **AAA**   | Arrange-Act-Assert                                 | Estrutura de teste                |
| **BDD**   | Behavior-Driven Development                        | Abordagem focada em comportamento |
| **CI**    | Continuous Integration                             | Pipeline automatizado             |
| **CD**    | Continuous Delivery/Deployment                     | Deploy automatizado               |
| **DRY**   | Don't Repeat Yourself                              | Princ√≠pio de n√£o duplica√ß√£o       |
| **E2E**   | End-to-End                                         | Teste completo do sistema         |
| **FIRST** | Fast-Independent-Repeatable-Self-Validating-Timely | Princ√≠pios de bons testes         |
| **I/O**   | Input/Output                                       | Entrada/Sa√≠da (disco, rede)       |
| **TDD**   | Test-Driven Development                            | Desenvolvimento guiado por testes |
| **SUT**   | System Under Test                                  | Sistema/componente sendo testado  |

---

## Annotations JUnit 5

| Annotation           | Uso                                           |
| -------------------- | --------------------------------------------- |
| `@Test`              | Marca m√©todo como teste                       |
| `@ParameterizedTest` | Teste parametrizado                           |
| `@RepeatedTest`      | Executa teste N vezes                         |
| `@BeforeEach`        | Executado antes de cada teste                 |
| `@AfterEach`         | Executado ap√≥s cada teste                     |
| `@BeforeAll`         | Executado uma vez antes de todos (static)     |
| `@AfterAll`          | Executado uma vez ap√≥s todos (static)         |
| `@DisplayName`       | Nome customizado para relat√≥rio               |
| `@Disabled`          | Desabilita teste temporariamente              |
| `@Tag`               | Categoriza testes (ex: "unit", "integration") |
| `@Nested`            | Classe interna de testes                      |
| `@Timeout`           | Limite de tempo para execu√ß√£o                 |

---

## Assertions JUnit 5

| Assertion                                   | Descri√ß√£o               |
| ------------------------------------------- | ----------------------- |
| `assertEquals(expected, actual)`            | Igualdade               |
| `assertNotEquals(unexpected, actual)`       | Diferen√ßa               |
| `assertTrue(condition)`                     | Condi√ß√£o verdadeira     |
| `assertFalse(condition)`                    | Condi√ß√£o falsa          |
| `assertNull(object)`                        | Objeto nulo             |
| `assertNotNull(object)`                     | Objeto n√£o nulo         |
| `assertThrows(Exception.class, executable)` | Lan√ßa exce√ß√£o           |
| `assertDoesNotThrow(executable)`            | N√£o lan√ßa exce√ß√£o       |
| `assertAll(executables...)`                 | M√∫ltiplas assertions    |
| `assertTimeout(duration, executable)`       | Executa dentro do tempo |
| `assertIterableEquals(expected, actual)`    | Cole√ß√µes iguais         |
| `assertArrayEquals(expected, actual)`       | Arrays iguais           |

---

## Mockito Principais M√©todos

| M√©todo                                   | Uso                                         |
| ---------------------------------------- | ------------------------------------------- |
| `mock(Classe.class)`                     | Cria mock                                   |
| `spy(objeto)`                            | Cria spy (objeto real parcialmente mockado) |
| `when(mock.metodo()).thenReturn(valor)`  | Define retorno                              |
| `when(mock.metodo()).thenThrow(excecao)` | Define exce√ß√£o                              |
| `doReturn(valor).when(mock).metodo()`    | Alternativa para void/spy                   |
| `verify(mock).metodo()`                  | Verifica chamada                            |
| `verify(mock, times(n)).metodo()`        | Verifica N chamadas                         |
| `verify(mock, never()).metodo()`         | Verifica nunca chamado                      |
| `any(Classe.class)`                      | Argumento qualquer                          |
| `eq(valor)`                              | Argumento espec√≠fico                        |
| `anyString()`, `anyInt()`, ...           | Argumento de tipo espec√≠fico                |

---

## üìö Leitura Adicional

- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
- [Mockito Documentation](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)
- [Testcontainers Documentation](https://www.testcontainers.org/)
- [Martin Fowler - Testing](https://martinfowler.com/testing/)

---

## üìö Pr√≥ximos Passos

- [5.1 Princ√≠pios Fundamentais](05.1-principios-testes.md) - Base te√≥rica
- [5.2 Boas Pr√°ticas](05.2-boas-praticas.md) - Conven√ß√µes
- [5.3 Anti-Patterns](05.3-anti-patterns.md) - Erros comuns
- [Voltar ao √çndice](../../README.md)

---

**√öltima Atualiza√ß√£o:** 2025-11-14  
**N√≠vel:** [REFER√äNCIA]  
**Tempo Estimado:** Consulta conforme necess√°rio
